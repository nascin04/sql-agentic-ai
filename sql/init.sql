-- Initialize database with website_visits table and sample data

-- Create the website_visits table
CREATE TABLE IF NOT EXISTS website_visits (
    id SERIAL PRIMARY KEY,
    website_name VARCHAR(255) NOT NULL,
    visits INTEGER DEFAULT 1,
    visit_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Insert sample data spanning 6 months with large visit numbers
INSERT INTO website_visits (website_name, visits, visit_date, created_at) VALUES
('google.com', 15420, '2024-01-15 10:30:00', '2024-01-15 10:30:00'),
('facebook.com', 8923, '2024-01-15 11:15:00', '2024-01-15 11:15:00'),
('youtube.com', 23456, '2024-01-15 12:00:00', '2024-01-15 12:00:00'),
('google.com', 18765, '2024-01-15 13:45:00', '2024-01-15 13:45:00'),
('twitter.com', 4567, '2024-01-15 14:20:00', '2024-01-15 14:20:00'),
('google.com', 21345, '2024-01-15 15:10:00', '2024-01-15 15:10:00'),
('instagram.com', 17890, '2024-01-15 16:30:00', '2024-01-15 16:30:00'),
('facebook.com', 9234, '2024-01-15 17:00:00', '2024-01-15 17:00:00'),
('linkedin.com', 5678, '2024-01-15 18:15:00', '2024-01-15 18:15:00'),
('google.com', 20123, '2024-01-15 19:30:00', '2024-01-15 19:30:00'),
('amazon.com', 34567, '2024-02-10 09:15:00', '2024-02-10 09:15:00'),
('netflix.com', 12345, '2024-02-10 14:30:00', '2024-02-10 14:30:00'),
('google.com', 19876, '2024-02-10 16:45:00', '2024-02-10 16:45:00'),
('spotify.com', 8765, '2024-02-10 20:20:00', '2024-02-10 20:20:00'),
('facebook.com', 11234, '2024-02-10 22:10:00', '2024-02-10 22:10:00'),
('youtube.com', 25678, '2024-03-05 08:30:00', '2024-03-05 08:30:00'),
('google.com', 22345, '2024-03-05 11:45:00', '2024-03-05 11:45:00'),
('instagram.com', 19876, '2024-03-05 15:20:00', '2024-03-05 15:20:00'),
('twitter.com', 6789, '2024-03-05 18:55:00', '2024-03-05 18:55:00'),
('linkedin.com', 7890, '2024-03-05 21:30:00', '2024-03-05 21:30:00'),
('google.com', 24567, '2024-04-12 07:15:00', '2024-04-12 07:15:00'),
('facebook.com', 13456, '2024-04-12 10:30:00', '2024-04-12 10:30:00'),
('youtube.com', 28901, '2024-04-12 13:45:00', '2024-04-12 13:45:00'),
('amazon.com', 41234, '2024-04-12 16:20:00', '2024-04-12 16:20:00'),
('netflix.com', 15678, '2024-04-12 19:10:00', '2024-04-12 19:10:00'),
('google.com', 26789, '2024-05-20 06:45:00', '2024-05-20 06:45:00'),
('instagram.com', 22345, '2024-05-20 09:30:00', '2024-05-20 09:30:00'),
('spotify.com', 12345, '2024-05-20 12:15:00', '2024-05-20 12:15:00'),
('facebook.com', 14567, '2024-05-20 15:40:00', '2024-05-20 15:40:00'),
('youtube.com', 31234, '2024-05-20 18:25:00', '2024-05-20 18:25:00'),
('linkedin.com', 8901, '2024-05-20 21:50:00', '2024-05-20 21:50:00'),
('google.com', 28901, '2024-06-08 05:30:00', '2024-06-08 05:30:00'),
('twitter.com', 8901, '2024-06-08 08:45:00', '2024-06-08 08:45:00'),
('amazon.com', 45678, '2024-06-08 11:20:00', '2024-06-08 11:20:00'),
('netflix.com', 17890, '2024-06-08 14:35:00', '2024-06-08 14:35:00'),
('facebook.com', 15678, '2024-06-08 17:10:00', '2024-06-08 17:10:00'),
('youtube.com', 33456, '2024-06-08 20:25:00', '2024-06-08 20:25:00'),
('instagram.com', 24567, '2024-06-08 23:40:00', '2024-06-08 23:40:00'),
('google.com', 31234, '2024-07-15 04:15:00', '2024-07-15 04:15:00'),
('spotify.com', 14567, '2024-07-15 07:30:00', '2024-07-15 07:30:00'),
('linkedin.com', 10123, '2024-07-15 10:45:00', '2024-07-15 10:45:00'),
('facebook.com', 16789, '2024-07-15 13:20:00', '2024-07-15 13:20:00'),
('youtube.com', 35678, '2024-07-15 16:35:00', '2024-07-15 16:35:00'),
('amazon.com', 50123, '2024-07-15 19:50:00', '2024-07-15 19:50:00'),
('twitter.com', 11234, '2024-07-15 22:15:00', '2024-07-15 22:15:00');

-- Create an index for better query performance
CREATE INDEX IF NOT EXISTS idx_website_visits_website_name ON website_visits(website_name);
CREATE INDEX IF NOT EXISTS idx_website_visits_visit_date ON website_visits(visit_date);
